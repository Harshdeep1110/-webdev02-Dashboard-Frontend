var STORAGE_KEY = "kanban_board_data", THEME_KEY = "kanban_theme"; function saveToStorage() { try { var a = { columns: AppState.columns, cards: AppState.cards, activityLog: AppState.activityLog }; localStorage.setItem(STORAGE_KEY, JSON.stringify(a)) } catch (b) { console.warn("Storage save failed:", b) } } function loadFromStorage() { try { var a = localStorage.getItem(STORAGE_KEY); if (!a) return !1; var b = JSON.parse(a); return b.columns && b.columns.length && (AppState.columns = b.columns), b.cards && (AppState.cards = b.cards), b.activityLog && (AppState.activityLog = b.activityLog), !0 } catch (c) { return console.warn("Storage load failed:", c), localStorage.removeItem(STORAGE_KEY), !1 } } function loadTheme() { var a = localStorage.getItem(THEME_KEY); "dark" === a ? (AppState.darkMode = !0, document.documentElement.setAttribute("data-theme", "dark")) : AppState.darkMode = !1 } function saveTheme() { localStorage.setItem(THEME_KEY, AppState.darkMode ? "dark" : "light") } function clearStorage() { localStorage.removeItem(STORAGE_KEY) } var autoSave = debounce(function () { saveToStorage() }, 500);
